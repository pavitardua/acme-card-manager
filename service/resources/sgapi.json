{
  "name": "send-grid-email-with-template",
  "description": "SendGrid v3 Send Email with Dynamic Templates API",
  "types": {
    "type": {
      "DynamicTemplateData-01": {
        "anonymous": true,
        "elements": [
          {
            "name": "user",
            "type": "string",
            "size": 200
          },
          {
            "name": "vendor_name",
            "type": "string",
            "size": 200
          },
          {
            "name": "transaction_amount",
            "type": "int"
          },
          {
            "name": "transaction_date",
            "type": "string",
            "size": 32
          },
          {
            "name": "transaction_type",
            "type": "string",
            "size": 32
          },
          {
            "name": "cc_last_4",
            "type": "string",
            "size": 16
          },
          {
            "name": "transaction_id",
            "type": "string",
            "size": 32
          },
          {
            "name": "alert_message",
            "type": "string",
            "size": 1024
          }
        ]
      },
      "ToType-01": {
        "anonymous": true,
        "elements": [
          {
            "name": "email",
            "type": "string",
            "size": 32
          }
        ]
      },
      "PersonalizationsType-01": {
        "anonymous": true,
        "elements": [
          {
            "name": "to-count",
            "type": "short",
            "hide": true
          },
          {
            "name": "to",
            "minOccurs": 1,
            "maxOccurs": 4,
            "dependsOn": "to-count",
            "type": "ToType-01"
          },
          {
            "name": "dynamic_template_data",
            "type": "DynamicTemplateData-01"
          }
        ]
      },
      "FromType-01": {
        "anonymous": true,
        "elements": [
          {
            "name": "email",
            "type": "string",
            "size": 32
          }
        ]
      },
      "post-send-v3": {
        "anonymous": false,
        "elements": [
          {
            "name": "personalizations-count",
            "type": "short",
            "hide": true
          },
          {
            "name": "personalizations",
            "minOccurs": 1,
            "maxOccurs": 4,
            "dependsOn": "personalizations-count",
            "type": "PersonalizationsType-01"
          },
          {
            "name": "from",
            "type": "FromType-01"
          },
          {
            "name": "subject",
            "type": "string",
            "size": 32
          },
          {
            "name": "template_id",
            "type": "string",
            "size": 100
          }
        ]
      }
    }
  },
  "operations": [
    {
      "path": "/mail/send",
      "methods": [
        {
          "id": 10,
          "verb": "POST",
          "alias": "post-send",
          "description": "Send an email with a dynamic template",
          "request": {
            "mappings": [
              {
                "source": {
                  "type": "ipm"
                },
                "target": {
                  "type": "body",
                  "value": "post-send-v3"
                }
              }
            ],
            "contentType": "application/json",
            "contentTypeIsCustom": false,
            "acceptTypes": ["*/*"]
          },
          "responses": [
            {
              "httpStatus": "202",
              "description": "Accepted",
              "mappings": []
            },
            {
              "httpStatus": "400",
              "description": "Bad Request",
              "mappings": []
            },
            {
              "httpStatus": "401",
              "description": "Unauthorized",
              "mappings": []
            },
            {
              "httpStatus": "403",
              "description": "Forbidden",
              "mappings": []
            },
            {
              "httpStatus": "500",
              "description": "Internal Server Error",
              "mappings": []
            }
          ],
          "api": {
            "stringPadding": "zeros"
          }
        }
      ]
    }
  ],
  "version": 1,
  "id": "03bfe0bbdec0a21d808001010000012ef1",
  "modificationTime": 1726076149,
  "isBrief": false,
  "generatedTypes": {
    "WARNING": "These types are generated by LightWave Client and should not be manually edited.",
    "type": {
      "LightWaveRqHeader": {
        "generated": true,
        "lightwave": true,
        "elements": [
          {
            "name": "rqCode",
            "type": "short",
            "size": 2
          },
          {
            "name": "rqVersion",
            "type": "unsignedShort",
            "size": 2
          },
          {
            "name": "rqTimeout",
            "type": "unsignedInt",
            "size": 4
          },
          {
            "name": "reserved",
            "type": "string",
            "size": 24
          }
        ]
      },
      "LightWaveRpHeader": {
        "generated": true,
        "lightwave": true,
        "elements": [
          {
            "name": "rpCode",
            "type": "short",
            "size": 2
          },
          {
            "name": "httpStatus",
            "type": "short",
            "size": 2
          },
          {
            "name": "infoCode",
            "type": "short",
            "size": 2
          },
          {
            "name": "infoDetail",
            "type": "short",
            "size": 2
          },
          {
            "name": "reserved",
            "type": "string",
            "size": 24
          }
        ]
      },
      "LightWaveErrorRp": {
        "generated": true,
        "lightwave": true,
        "elements": [
          {
            "name": "LightWaveRpHeader",
            "type": "LightWaveRpHeader"
          },
          {
            "name": "errorSource",
            "type": "int",
            "size": 4
          },
          {
            "name": "errorCode",
            "type": "int",
            "size": 4
          },
          {
            "name": "errorSubcode",
            "type": "int",
            "size": 4
          },
          {
            "name": "errorMessage",
            "type": "string",
            "size": 4096
          }
        ]
      },
      "Post-sendRq": {
        "generated": true,
        "lightwave": false,
        "isRequest": true,
        "alias": "post-send",
        "description": "Send an email with a dynamic template",
        "operation": "POST /mail/send",
        "elements": [
          {
            "name": "LightWaveRqHeader",
            "type": "LightWaveRqHeader"
          },
          {
            "name": "post-send-v3",
            "type": "post-send-v3"
          }
        ]
      },
      "Post-send202Rp": {
        "generated": true,
        "lightwave": false,
        "isReply": true,
        "elements": [
          {
            "name": "LightWaveRpHeader",
            "type": "LightWaveRpHeader"
          }
        ]
      },
      "Post-send400Rp": {
        "generated": true,
        "lightwave": false,
        "isReply": true,
        "elements": [
          {
            "name": "LightWaveRpHeader",
            "type": "LightWaveRpHeader"
          }
        ]
      },
      "Post-send401Rp": {
        "generated": true,
        "lightwave": false,
        "isReply": true,
        "elements": [
          {
            "name": "LightWaveRpHeader",
            "type": "LightWaveRpHeader"
          }
        ]
      },
      "Post-send403Rp": {
        "generated": true,
        "lightwave": false,
        "isReply": true,
        "elements": [
          {
            "name": "LightWaveRpHeader",
            "type": "LightWaveRpHeader"
          }
        ]
      },
      "Post-send500Rp": {
        "generated": true,
        "lightwave": false,
        "isReply": true,
        "elements": [
          {
            "name": "LightWaveRpHeader",
            "type": "LightWaveRpHeader"
          }
        ]
      }
    }
  }
}